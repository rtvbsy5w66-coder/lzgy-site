
> lovas-political-site@0.1.0 test
> jest --passWithNoTests

FAIL __tests__/api/contact.test.ts
  ‚óè Console

    console.error
      Contact form error: TypeError: Cannot read properties of undefined (reading 'get')
          at get (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:87:41)
          at handler (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:21:60)
          at POST (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:84:23)
          at Object.<anonymous> (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:63:32)
          at Promise.then.completed (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/testWorker.js:106:12)

      156 |       });
      157 |     } catch (error) {
    > 158 |       console.error("Contact form error:", error);
          |               ^
      159 |       return NextResponse.json(
      160 |         { error: "Hiba t√∂rt√©nt az √ºzenet feldolgoz√°sa sor√°n." },
      161 |         { status: 500 }

      at error (src/app/api/contact/route.ts:158:15)
      at handler (__tests__/api/contact.test.ts:21:60)
      at POST (src/app/api/contact/route.ts:84:23)
      at Object.<anonymous> (__tests__/api/contact.test.ts:63:32)

    console.error
      Contact form error: TypeError: Cannot read properties of undefined (reading 'get')
          at get (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:87:41)
          at handler (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:21:60)
          at POST (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:84:23)
          at Object.<anonymous> (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:77:32)
          at Promise.then.completed (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/testWorker.js:106:12)

      156 |       });
      157 |     } catch (error) {
    > 158 |       console.error("Contact form error:", error);
          |               ^
      159 |       return NextResponse.json(
      160 |         { error: "Hiba t√∂rt√©nt az √ºzenet feldolgoz√°sa sor√°n." },
      161 |         { status: 500 }

      at error (src/app/api/contact/route.ts:158:15)
      at handler (__tests__/api/contact.test.ts:21:60)
      at POST (src/app/api/contact/route.ts:84:23)
      at Object.<anonymous> (__tests__/api/contact.test.ts:77:32)

    console.error
      Contact form error: TypeError: Cannot read properties of undefined (reading 'get')
          at get (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:87:41)
          at handler (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:21:60)
          at POST (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:84:23)
          at Object.<anonymous> (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:90:32)
          at Promise.then.completed (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/testWorker.js:106:12)

      156 |       });
      157 |     } catch (error) {
    > 158 |       console.error("Contact form error:", error);
          |               ^
      159 |       return NextResponse.json(
      160 |         { error: "Hiba t√∂rt√©nt az √ºzenet feldolgoz√°sa sor√°n." },
      161 |         { status: 500 }

      at error (src/app/api/contact/route.ts:158:15)
      at handler (__tests__/api/contact.test.ts:21:60)
      at POST (src/app/api/contact/route.ts:84:23)
      at Object.<anonymous> (__tests__/api/contact.test.ts:90:32)

    console.error
      Contact form error: TypeError: Cannot read properties of undefined (reading 'get')
          at get (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:87:41)
          at handler (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:21:60)
          at POST (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:84:23)
          at Object.<anonymous> (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:103:32)
          at Promise.then.completed (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/testWorker.js:106:12)

      156 |       });
      157 |     } catch (error) {
    > 158 |       console.error("Contact form error:", error);
          |               ^
      159 |       return NextResponse.json(
      160 |         { error: "Hiba t√∂rt√©nt az √ºzenet feldolgoz√°sa sor√°n." },
      161 |         { status: 500 }

      at error (src/app/api/contact/route.ts:158:15)
      at handler (__tests__/api/contact.test.ts:21:60)
      at POST (src/app/api/contact/route.ts:84:23)
      at Object.<anonymous> (__tests__/api/contact.test.ts:103:32)

    console.error
      Contact form error: TypeError: Cannot read properties of undefined (reading 'get')
          at get (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:87:41)
          at handler (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:21:60)
          at POST (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/contact/route.ts:84:23)
          at Object.<anonymous> (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/contact.test.ts:124:32)
          at Promise.then.completed (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:298:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:231:10)
          at _callCircusTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:316:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:252:3)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:126:9)
          at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:121:9)
          at run (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:71:3)
          at runAndTransformResultsToJestFormat (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
          at jestAdapter (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
          at runTestInternal (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:367:16)
          at runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/runTest.js:444:34)
          at Object.worker (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-runner/build/testWorker.js:106:12)

      156 |       });
      157 |     } catch (error) {
    > 158 |       console.error("Contact form error:", error);
          |               ^
      159 |       return NextResponse.json(
      160 |         { error: "Hiba t√∂rt√©nt az √ºzenet feldolgoz√°sa sor√°n." },
      161 |         { status: 500 }

      at error (src/app/api/contact/route.ts:158:15)
      at handler (__tests__/api/contact.test.ts:21:60)
      at POST (src/app/api/contact/route.ts:84:23)
      at Object.<anonymous> (__tests__/api/contact.test.ts:124:32)

  ‚óè Contact API ‚Ä∫ creates contact with valid data

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      69 |
      70 |     const data = await response.json();
    > 71 |     expect(response.status).toBe(200);
         |                             ^
      72 |     expect(data.success).toBe(true);
      73 |     expect(data.id).toBeDefined();
      74 |   });

      at Object.toBe (__tests__/api/contact.test.ts:71:29)

  ‚óè Contact API ‚Ä∫ validates name length

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      83 |
      84 |     const data = await response.json();
    > 85 |     expect(response.status).toBe(400);
         |                             ^
      86 |     expect(data.errors).toContain("√ârv√©nytelen n√©v");
      87 |   });
      88 |

      at Object.toBe (__tests__/api/contact.test.ts:85:29)

  ‚óè Contact API ‚Ä∫ validates email format

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

       96 |
       97 |     const data = await response.json();
    >  98 |     expect(response.status).toBe(400);
          |                             ^
       99 |     expect(data.errors).toContain("√ârv√©nytelen email c√≠m");
      100 |   });
      101 |

      at Object.toBe (__tests__/api/contact.test.ts:98:29)

  ‚óè Contact API ‚Ä∫ validates phone format

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      109 |
      110 |     const data = await response.json();
    > 111 |     expect(response.status).toBe(400);
          |                             ^
      112 |     expect(data.errors).toContain("√ârv√©nytelen telefonsz√°m form√°tum");
      113 |   });
      114 |

      at Object.toBe (__tests__/api/contact.test.ts:111:29)

  ‚óè Contact API ‚Ä∫ handles email sending failure

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      129 |     );
      130 |
    > 131 |     expect(response.status).toBe(200);
          |                             ^
      132 |   });
      133 |
      134 |   test("GET request returns 405", async () => {

      at Object.toBe (__tests__/api/contact.test.ts:131:29)

FAIL __tests__/api/events.test.ts
  ‚óè Test suite failed to run

    ReferenceError: mockCheckRateLimit is not defined

      87 |       }
      88 |     },
    > 89 |     checkRateLimit: mockCheckRateLimit,
         |                     ^
      90 |   };
      91 | });
      92 |

      at mockCheckRateLimit (jest.setup.js:89:21)
      at Object.<anonymous> (src/app/api/events/route.ts:30:20)
      at Object.<anonymous> (__tests__/api/events.test.ts:16:16)

FAIL __tests__/api/upload.test.ts
  ‚óè Test suite failed to run

    ReferenceError: mockCheckRateLimit is not defined

      87 |       }
      88 |     },
    > 89 |     checkRateLimit: mockCheckRateLimit,
         |                     ^
      90 |   };
      91 | });
      92 |

      at mockCheckRateLimit (jest.setup.js:89:21)
      at Object.<anonymous> (src/app/api/upload/route.ts:27:20)
      at Object.<anonymous> (__tests__/api/upload.test.ts:6:16)

FAIL __tests__/components/ContactForm.test.tsx
  ‚óè ContactForm ‚Ä∫ renders all form fields

    TestingLibraryElementError: Found a label with the text of: /n√©v/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white/5 backdrop-blur-lg p-8 rounded-2xl shadow-lg"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mN√©v*[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mEmail c√≠m*[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mTelefonsz√°m[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"phone"[39m
                    [33mtype[39m=[32m"tel"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mKer√ºlet[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"district"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                [36m>[39m
                  [0mT√°rgy*[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                  [33mname[39m=[32m"subject"[39m
                  [33mrequired[39m=[32m""[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                [36m>[39m
                  [0m√úzenet*[0m
                [36m</label>[39m
                [36m<textarea[39m
                  [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                  [33mname[39m=[32m"message"[39m
                  [33mrequired[39m=[32m""[39m
                  [33mrows[39m=[32m"5"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mPrefer√°lt kapcsolattart√°s:[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"preferredContact"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"email"[39m
                    [36m>[39m
                      [0mEmail[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"phone"[39m
                    [36m>[39m
                      [0mTelefon[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-2"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"rounded text-[#8DEBD1] bg-white/10 border-gray-600 focus:ring-2 focus:ring-[#8DEBD1]"[39m
                    [33mname[39m=[32m"newsletter"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm text-gray-200"[39m
                  [36m>[39m
                    [0mSzeretn√©k feliratkozni a h√≠rlev√©lre[0m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full px-6 py-3 text-gray-900 font-medium bg-gradient-to-r from-[#6DAEF0] to-[#8DEBD1] rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0m√úzenet k√ºld√©se[0m
              [36m</button>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      16 |     render(<ContactForm />);
      17 |
    > 18 |     expect(screen.getByLabelText(/n√©v/i)).toBeInTheDocument();
         |                   ^
      19 |     expect(screen.getByLabelText(/email/i)).toBeInTheDocument();
      20 |     expect(screen.getByLabelText(/telefonsz√°m/i)).toBeInTheDocument();
      21 |     expect(screen.getByLabelText(/ker√ºlet/i)).toBeInTheDocument();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (__tests__/components/ContactForm.test.tsx:18:19)

  ‚óè ContactForm ‚Ä∫ form submission with valid data

    TestingLibraryElementError: Found a label with the text of: /n√©v/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white/5 backdrop-blur-lg p-8 rounded-2xl shadow-lg"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mN√©v*[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mEmail c√≠m*[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mTelefonsz√°m[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"phone"[39m
                    [33mtype[39m=[32m"tel"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mKer√ºlet[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"district"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                [36m>[39m
                  [0mT√°rgy*[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                  [33mname[39m=[32m"subject"[39m
                  [33mrequired[39m=[32m""[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                [36m>[39m
                  [0m√úzenet*[0m
                [36m</label>[39m
                [36m<textarea[39m
                  [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                  [33mname[39m=[32m"message"[39m
                  [33mrequired[39m=[32m""[39m
                  [33mrows[39m=[32m"5"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mPrefer√°lt kapcsolattart√°s:[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"preferredContact"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"email"[39m
                    [36m>[39m
                      [0mEmail[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"phone"[39m
                    [36m>[39m
                      [0mTelefon[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-2"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"rounded text-[#8DEBD1] bg-white/10 border-gray-600 focus:ring-2 focus:ring-[#8DEBD1]"[39m
                    [33mname[39m=[32m"newsletter"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm text-gray-200"[39m
                  [36m>[39m
                    [0mSzeretn√©k feliratkozni a h√≠rlev√©lre[0m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full px-6 py-3 text-gray-900 font-medium bg-gradient-to-r from-[#6DAEF0] to-[#8DEBD1] rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0m√úzenet k√ºld√©se[0m
              [36m</button>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      35 |     render(<ContactForm />);
      36 |
    > 37 |     await userEvent.type(screen.getByLabelText(/n√©v/i), "Teszt Elek");
         |                                 ^
      38 |     await userEvent.type(screen.getByLabelText(/email/i), "teszt@example.com");
      39 |     await userEvent.type(screen.getByLabelText(/t√°rgy/i), "Teszt t√°rgy");
      40 |     await userEvent.type(screen.getByLabelText(/√ºzenet/i), "Teszt √ºzenet");

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (__tests__/components/ContactForm.test.tsx:37:33)

  ‚óè ContactForm ‚Ä∫ displays error message on submission failure

    TestingLibraryElementError: Found a label with the text of: /n√©v/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white/5 backdrop-blur-lg p-8 rounded-2xl shadow-lg"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mN√©v*[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mEmail c√≠m*[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mTelefonsz√°m[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"phone"[39m
                    [33mtype[39m=[32m"tel"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mKer√ºlet[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"district"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                [36m>[39m
                  [0mT√°rgy*[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                  [33mname[39m=[32m"subject"[39m
                  [33mrequired[39m=[32m""[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                [36m>[39m
                  [0m√úzenet*[0m
                [36m</label>[39m
                [36m<textarea[39m
                  [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                  [33mname[39m=[32m"message"[39m
                  [33mrequired[39m=[32m""[39m
                  [33mrows[39m=[32m"5"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mPrefer√°lt kapcsolattart√°s:[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"preferredContact"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"email"[39m
                    [36m>[39m
                      [0mEmail[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"phone"[39m
                    [36m>[39m
                      [0mTelefon[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-2"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"rounded text-[#8DEBD1] bg-white/10 border-gray-600 focus:ring-2 focus:ring-[#8DEBD1]"[39m
                    [33mname[39m=[32m"newsletter"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm text-gray-200"[39m
                  [36m>[39m
                    [0mSzeretn√©k feliratkozni a h√≠rlev√©lre[0m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full px-6 py-3 text-gray-900 font-medium bg-gradient-to-r from-[#6DAEF0] to-[#8DEBD1] rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0m√úzenet k√ºld√©se[0m
              [36m</button>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      70 |     render(<ContactForm />);
      71 |
    > 72 |     await userEvent.type(screen.getByLabelText(/n√©v/i), "Teszt Elek");
         |                                 ^
      73 |     await userEvent.type(screen.getByLabelText(/email/i), "teszt@example.com");
      74 |     await userEvent.type(screen.getByLabelText(/t√°rgy/i), "Teszt t√°rgy");
      75 |     await userEvent.type(screen.getByLabelText(/√ºzenet/i), "Teszt √ºzenet");

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (__tests__/components/ContactForm.test.tsx:72:33)

  ‚óè ContactForm ‚Ä∫ validates required fields

    TestingLibraryElementError: Found a label with the text of: /n√©v/i, however no form control was found associated to that label. Make sure you're using the "for" attribute or "aria-labelledby" attribute correctly.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"w-full max-w-2xl mx-auto"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-white/5 backdrop-blur-lg p-8 rounded-2xl shadow-lg"[39m
          [36m>[39m
            [36m<form[39m
              [33mclass[39m=[32m"space-y-6"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mN√©v*[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"name"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mEmail c√≠m*[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"email"[39m
                    [33mrequired[39m=[32m""[39m
                    [33mtype[39m=[32m"email"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-1 md:grid-cols-2 gap-6"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mTelefonsz√°m[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"phone"[39m
                    [33mtype[39m=[32m"tel"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"space-y-2"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mKer√ºlet[0m
                  [36m</label>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"district"[39m
                    [33mtype[39m=[32m"text"[39m
                    [33mvalue[39m=[32m""[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                [36m>[39m
                  [0mT√°rgy*[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                  [33mname[39m=[32m"subject"[39m
                  [33mrequired[39m=[32m""[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                [36m>[39m
                  [0m√úzenet*[0m
                [36m</label>[39m
                [36m<textarea[39m
                  [33mclass[39m=[32m"w-full px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                  [33mname[39m=[32m"message"[39m
                  [33mrequired[39m=[32m""[39m
                  [33mrows[39m=[32m"5"[39m
                [36m/>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-4"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-4"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm font-medium text-gray-200"[39m
                  [36m>[39m
                    [0mPrefer√°lt kapcsolattart√°s:[0m
                  [36m</label>[39m
                  [36m<select[39m
                    [33mclass[39m=[32m"px-4 py-2 bg-white/10 border border-gray-600 rounded-lg focus:ring-2 focus:ring-[#8DEBD1] focus:border-transparent text-white"[39m
                    [33mname[39m=[32m"preferredContact"[39m
                  [36m>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"email"[39m
                    [36m>[39m
                      [0mEmail[0m
                    [36m</option>[39m
                    [36m<option[39m
                      [33mvalue[39m=[32m"phone"[39m
                    [36m>[39m
                      [0mTelefon[0m
                    [36m</option>[39m
                  [36m</select>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center space-x-2"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"rounded text-[#8DEBD1] bg-white/10 border-gray-600 focus:ring-2 focus:ring-[#8DEBD1]"[39m
                    [33mname[39m=[32m"newsletter"[39m
                    [33mtype[39m=[32m"checkbox"[39m
                  [36m/>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"text-sm text-gray-200"[39m
                  [36m>[39m
                    [0mSzeretn√©k feliratkozni a h√≠rlev√©lre[0m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full px-6 py-3 text-gray-900 font-medium bg-gradient-to-r from-[#6DAEF0] to-[#8DEBD1] rounded-lg hover:shadow-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center"[39m
                [33mtype[39m=[32m"submit"[39m
              [36m>[39m
                [0m√úzenet k√ºld√©se[0m
              [36m</button>[39m
            [36m</form>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      85 |     fireEvent.click(screen.getByRole("button", { name: /k√ºld√©s/i }));
      86 |
    > 87 |     expect(screen.getByLabelText(/n√©v/i)).toBeInvalid();
         |                   ^
      88 |     expect(screen.getByLabelText(/email/i)).toBeInvalid();
      89 |     expect(screen.getByLabelText(/t√°rgy/i)).toBeInvalid();
      90 |     expect(screen.getByLabelText(/√ºzenet/i)).toBeInvalid();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:108:40)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (__tests__/components/ContactForm.test.tsx:87:19)

FAIL __tests__/components/admin/SlideManager.test.tsx
  ‚óè SlideManager ‚Ä∫ renders slide list

    TestingLibraryElementError: Unable to find an element with the text: Slide 1. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 h-9 px-4 py-2 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-save w-4 h-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M7 3v4a1 1 0 0 0 1 1h7"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mMent√©s[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      25 |   test("renders slide list", () => {
      26 |     render(<SlideManager slides={mockSlides} />);
    > 27 |     expect(screen.getByText("Slide 1")).toBeInTheDocument();
         |                   ^
      28 |   });
      29 |
      30 |   test("handles slide reordering", async () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/admin/SlideManager.test.tsx:27:19)

  ‚óè SlideManager ‚Ä∫ handles slide reordering

    TestingLibraryElementError: Unable to find an element by: [data-testid="slide-item-1"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 h-9 px-4 py-2 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-save w-4 h-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M7 3v4a1 1 0 0 0 1 1h7"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mMent√©s[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      32 |     render(<SlideManager slides={mockSlides} onReorder={onReorder} />);
      33 |
    > 34 |     const slideItem = screen.getByTestId("slide-item-1");
         |                              ^
      35 |     fireEvent.dragStart(slideItem);
      36 |     fireEvent.dragEnd(slideItem);
      37 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (__tests__/components/admin/SlideManager.test.tsx:34:30)

  ‚óè SlideManager ‚Ä∫ toggles slide activation

    TestingLibraryElementError: Unable to find an accessible element with the role "switch"

    Here are the accessible roles:

      button:

      Name "Ment√©s":
      [36m<button[39m
        [33mclass[39m=[32m"justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 h-9 px-4 py-2 flex items-center gap-2"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 h-9 px-4 py-2 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-save w-4 h-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M7 3v4a1 1 0 0 0 1 1h7"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mMent√©s[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      44 |
      45 |     render(<SlideManager slides={mockSlides} />);
    > 46 |     const toggle = screen.getByRole("switch");
         |                           ^
      47 |     await userEvent.click(toggle);
      48 |
      49 |     expect(mockFetch).toHaveBeenCalled();

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/admin/SlideManager.test.tsx:46:27)

  ‚óè SlideManager ‚Ä∫ deletes slide

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/t√∂rl√©s/i`

    Here are the accessible roles:

      button:

      Name "Ment√©s":
      [36m<button[39m
        [33mclass[39m=[32m"justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 h-9 px-4 py-2 flex items-center gap-2"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-4"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 h-9 px-4 py-2 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-save w-4 h-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M7 3v4a1 1 0 0 0 1 1h7"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mMent√©s[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      55 |
      56 |     render(<SlideManager slides={mockSlides} />);
    > 57 |     const deleteButton = screen.getByRole("button", { name: /t√∂rl√©s/i });
         |                                 ^
      58 |     await userEvent.click(deleteButton);
      59 |
      60 |     expect(mockFetch).toHaveBeenCalledWith(

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/admin/SlideManager.test.tsx:57:33)

FAIL __tests__/api/slides.test.ts
  ‚óè Slides API ‚Ä∫ GET /api/slides ‚Ä∫ returns slides under rate limit

    TypeError: Cannot read properties of undefined (reading 'slide')

      33 |   describe("GET /api/slides", () => {
      34 |     test("returns slides under rate limit", async () => {
    > 35 |       (prisma.slide.findMany as jest.Mock).mockResolvedValue([mockSlide]);
         |               ^
      36 |       const response = await GET();
      37 |       expect(await response.json()).toEqual([mockSlide]);
      38 |       expect(response.status).toBe(200);

      at Object.slide (__tests__/api/slides.test.ts:35:15)

  ‚óè Slides API ‚Ä∫ GET /api/slides ‚Ä∫ blocks request when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      42 |       (checkRateLimit as jest.Mock).mockResolvedValue(false);
      43 |       const response = await GET();
    > 44 |       expect(response.status).toBe(429);
         |                               ^
      45 |       const data = await response.json();
      46 |       expect(data.error).toBe("Too Many Requests");
      47 |     });

      at Object.toBe (__tests__/api/slides.test.ts:44:31)

  ‚óè Slides API ‚Ä∫ POST /api/slides ‚Ä∫ creates slide under rate limit

    TypeError: Cannot read properties of undefined (reading 'slide')

      50 |   describe("POST /api/slides", () => {
      51 |     test("creates slide under rate limit", async () => {
    > 52 |       (prisma.slide.create as jest.Mock).mockResolvedValue(mockSlide);
         |               ^
      53 |       const response = await POST(
      54 |         new NextRequest("http://localhost:3000/api/slides", {
      55 |           method: "POST",

      at Object.slide (__tests__/api/slides.test.ts:52:15)

  ‚óè Slides API ‚Ä∫ POST /api/slides ‚Ä∫ blocks creation when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      68 |         })
      69 |       );
    > 70 |       expect(response.status).toBe(429);
         |                               ^
      71 |     });
      72 |
      73 |     test("requires authentication", async () => {

      at Object.toBe (__tests__/api/slides.test.ts:70:31)

  ‚óè Slides API ‚Ä∫ PUT /api/slides ‚Ä∫ updates slide order under rate limit

    TypeError: Cannot read properties of undefined (reading 'slide')

      85 |   describe("PUT /api/slides", () => {
      86 |     test("updates slide order under rate limit", async () => {
    > 87 |       (prisma.slide.update as jest.Mock).mockResolvedValue(mockSlide);
         |               ^
      88 |       const response = await PUT(
      89 |         new NextRequest("http://localhost:3000/api/slides", {
      90 |           method: "PUT",

      at Object.slide (__tests__/api/slides.test.ts:87:15)

  ‚óè Slides API ‚Ä∫ PUT /api/slides ‚Ä∫ blocks update when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      103 |         })
      104 |       );
    > 105 |       expect(response.status).toBe(429);
          |                               ^
      106 |     });
      107 |   });
      108 |

      at Object.toBe (__tests__/api/slides.test.ts:105:31)

  ‚óè Slides API ‚Ä∫ DELETE /api/slides ‚Ä∫ deletes slide under rate limit

    TypeError: Cannot read properties of undefined (reading 'slide')

      109 |   describe("DELETE /api/slides", () => {
      110 |     test("deletes slide under rate limit", async () => {
    > 111 |       (prisma.slide.delete as jest.Mock).mockResolvedValue(mockSlide);
          |               ^
      112 |       const response = await DELETE(
      113 |         new NextRequest("http://localhost:3000/api/slides?id=1")
      114 |       );

      at Object.slide (__tests__/api/slides.test.ts:111:15)

  ‚óè Slides API ‚Ä∫ DELETE /api/slides ‚Ä∫ blocks deletion when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      121 |         new NextRequest("http://localhost:3000/api/slides?id=1")
      122 |       );
    > 123 |       expect(response.status).toBe(429);
          |                               ^
      124 |     });
      125 |   });
      126 |

      at Object.toBe (__tests__/api/slides.test.ts:123:31)

  ‚óè Slides API ‚Ä∫ verifies rate limit is checked for each method

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "default"

    Number of calls: 0

      134 |     );
      135 |
    > 136 |     expect(checkRateLimit).toHaveBeenCalledWith("default");
          |                            ^
      137 |     expect(checkRateLimit).toHaveBeenCalledWith("admin");
      138 |     expect(checkRateLimit).toHaveBeenCalledTimes(2);
      139 |   });

      at Object.toHaveBeenCalledWith (__tests__/api/slides.test.ts:136:28)

FAIL __tests__/api/themes.test.ts
  ‚óè Themes API ‚Ä∫ GET /api/themes ‚Ä∫ returns themes under rate limit

    TypeError: Cannot read properties of undefined (reading 'theme')

      34 |   describe("GET /api/themes", () => {
      35 |     test("returns themes under rate limit", async () => {
    > 36 |       (prisma.theme.findMany as jest.Mock).mockResolvedValue([mockTheme]);
         |               ^
      37 |       const response = await GET();
      38 |       const data = await response.json();
      39 |       expect(data[0]).toMatchObject(mockTheme);

      at Object.theme (__tests__/api/themes.test.ts:36:15)

  ‚óè Themes API ‚Ä∫ GET /api/themes ‚Ä∫ blocks request when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      44 |       (checkRateLimit as jest.Mock).mockResolvedValue(false);
      45 |       const response = await GET();
    > 46 |       expect(response.status).toBe(429);
         |                               ^
      47 |       const data = await response.json();
      48 |       expect(data.error).toBe("Too Many Requests");
      49 |     });

      at Object.toBe (__tests__/api/themes.test.ts:46:31)

  ‚óè Themes API ‚Ä∫ POST /api/themes ‚Ä∫ creates theme under rate limit

    TypeError: Cannot read properties of undefined (reading 'theme')

      52 |   describe("POST /api/themes", () => {
      53 |     test("creates theme under rate limit", async () => {
    > 54 |       (prisma.theme.create as jest.Mock).mockResolvedValue(mockTheme);
         |               ^
      55 |       const response = await POST(
      56 |         new NextRequest("http://localhost:3000/api/themes", {
      57 |           method: "POST",

      at Object.theme (__tests__/api/themes.test.ts:54:15)

  ‚óè Themes API ‚Ä∫ POST /api/themes ‚Ä∫ blocks creation when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      70 |         })
      71 |       );
    > 72 |       expect(response.status).toBe(429);
         |                               ^
      73 |     });
      74 |
      75 |     test("requires authentication", async () => {

      at Object.toBe (__tests__/api/themes.test.ts:72:31)

  ‚óè Themes API ‚Ä∫ PUT /api/themes ‚Ä∫ updates theme under rate limit

    TypeError: Cannot read properties of undefined (reading 'theme')

      87 |   describe("PUT /api/themes", () => {
      88 |     test("updates theme under rate limit", async () => {
    > 89 |       (prisma.theme.update as jest.Mock).mockResolvedValue(mockTheme);
         |               ^
      90 |       const response = await PUT(
      91 |         new NextRequest("http://localhost:3000/api/themes", {
      92 |           method: "PUT",

      at Object.theme (__tests__/api/themes.test.ts:89:15)

  ‚óè Themes API ‚Ä∫ PUT /api/themes ‚Ä∫ blocks update when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      108 |         })
      109 |       );
    > 110 |       expect(response.status).toBe(429);
          |                               ^
      111 |     });
      112 |   });
      113 |

      at Object.toBe (__tests__/api/themes.test.ts:110:31)

  ‚óè Themes API ‚Ä∫ DELETE /api/themes ‚Ä∫ deletes theme under rate limit

    TypeError: Cannot read properties of undefined (reading 'theme')

      114 |   describe("DELETE /api/themes", () => {
      115 |     test("deletes theme under rate limit", async () => {
    > 116 |       (prisma.theme.delete as jest.Mock).mockResolvedValue(mockTheme);
          |               ^
      117 |       const response = await DELETE(
      118 |         new NextRequest("http://localhost:3000/api/themes?id=1")
      119 |       );

      at Object.theme (__tests__/api/themes.test.ts:116:15)

  ‚óè Themes API ‚Ä∫ DELETE /api/themes ‚Ä∫ blocks deletion when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      126 |         new NextRequest("http://localhost:3000/api/themes?id=1")
      127 |       );
    > 128 |       expect(response.status).toBe(429);
          |                               ^
      129 |     });
      130 |   });
      131 |

      at Object.toBe (__tests__/api/themes.test.ts:128:31)

  ‚óè Themes API ‚Ä∫ verifies rate limit is checked for each method

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "default"

    Number of calls: 0

      139 |     );
      140 |
    > 141 |     expect(checkRateLimit).toHaveBeenCalledWith("default");
          |                            ^
      142 |     expect(checkRateLimit).toHaveBeenCalledWith("admin");
      143 |     expect(checkRateLimit).toHaveBeenCalledTimes(2);
      144 |   });

      at Object.toHaveBeenCalledWith (__tests__/api/themes.test.ts:141:28)

FAIL __tests__/api/auth.test.ts
  ‚óè Auth API ‚Ä∫ verifies admin credentials under rate limit

    TypeError: Cannot destructure property 'nextauth' of 'req.query' as it is undefined.

       8 | export const GET = handler;
       9 | export const POST = async (request: Request) => {
    > 10 |   return withRateLimit("auth", async () => handler(request));
         |                                            ^
      11 | };
      12 |

      at NextAuthApiHandler (node_modules/next-auth/next/index.js:14:5)
      at NextAuth._args$ (node_modules/next-auth/next/index.js:91:20)
      at handler (src/app/api/auth/[...nextauth]/route.ts:10:44)
      at handler (__tests__/api/auth.test.ts:9:60)
      at POST (src/app/api/auth/[...nextauth]/route.ts:10:23)
      at Object.<anonymous> (__tests__/api/auth.test.ts:25:32)

  ‚óè Auth API ‚Ä∫ blocks login attempts when rate limit exceeded

    TypeError: Cannot destructure property 'nextauth' of 'req.query' as it is undefined.

       8 | export const GET = handler;
       9 | export const POST = async (request: Request) => {
    > 10 |   return withRateLimit("auth", async () => handler(request));
         |                                            ^
      11 | };
      12 |

      at NextAuthApiHandler (node_modules/next-auth/next/index.js:14:5)
      at NextAuth._args$ (node_modules/next-auth/next/index.js:91:20)
      at handler (src/app/api/auth/[...nextauth]/route.ts:10:44)
      at handler (__tests__/api/auth.test.ts:9:60)
      at POST (src/app/api/auth/[...nextauth]/route.ts:10:23)
      at Object.<anonymous> (__tests__/api/auth.test.ts:37:32)

  ‚óè Auth API ‚Ä∫ rejects invalid credentials

    TypeError: Cannot destructure property 'nextauth' of 'req.query' as it is undefined.

       8 | export const GET = handler;
       9 | export const POST = async (request: Request) => {
    > 10 |   return withRateLimit("auth", async () => handler(request));
         |                                            ^
      11 | };
      12 |

      at NextAuthApiHandler (node_modules/next-auth/next/index.js:14:5)
      at NextAuth._args$ (node_modules/next-auth/next/index.js:91:20)
      at handler (src/app/api/auth/[...nextauth]/route.ts:10:44)
      at handler (__tests__/api/auth.test.ts:9:60)
      at POST (src/app/api/auth/[...nextauth]/route.ts:10:23)
      at Object.<anonymous> (__tests__/api/auth.test.ts:49:32)

  ‚óè Auth API ‚Ä∫ handles missing credentials

    TypeError: Cannot destructure property 'nextauth' of 'req.query' as it is undefined.

       8 | export const GET = handler;
       9 | export const POST = async (request: Request) => {
    > 10 |   return withRateLimit("auth", async () => handler(request));
         |                                            ^
      11 | };
      12 |

      at NextAuthApiHandler (node_modules/next-auth/next/index.js:14:5)
      at NextAuth._args$ (node_modules/next-auth/next/index.js:91:20)
      at handler (src/app/api/auth/[...nextauth]/route.ts:10:44)
      at handler (__tests__/api/auth.test.ts:9:60)
      at POST (src/app/api/auth/[...nextauth]/route.ts:10:23)
      at Object.<anonymous> (__tests__/api/auth.test.ts:62:32)

  ‚óè Auth API ‚Ä∫ verifies rate limit is checked

    TypeError: Cannot destructure property 'nextauth' of 'req.query' as it is undefined.

       8 | export const GET = handler;
       9 | export const POST = async (request: Request) => {
    > 10 |   return withRateLimit("auth", async () => handler(request));
         |                                            ^
      11 | };
      12 |

      at NextAuthApiHandler (node_modules/next-auth/next/index.js:14:5)
      at NextAuth._args$ (node_modules/next-auth/next/index.js:91:20)
      at handler (src/app/api/auth/[...nextauth]/route.ts:10:44)
      at handler (__tests__/api/auth.test.ts:9:60)
      at POST (src/app/api/auth/[...nextauth]/route.ts:10:23)
      at Object.<anonymous> (__tests__/api/auth.test.ts:72:15)

FAIL __tests__/lib/rate-limit.test.ts
  ‚óè Rate Limiting ‚Ä∫ login rate limit m≈±k√∂dik

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

      25 |
      26 |     const sixthTry = await checkRateLimit("login");
    > 27 |     expect(sixthTry).toBe(false);
         |                      ^
      28 |   });
      29 |
      30 |   test("contact rate limit m≈±k√∂dik", async () => {

      at Object.toBe (__tests__/lib/rate-limit.test.ts:27:22)

  ‚óè Rate Limiting ‚Ä∫ contact rate limit m≈±k√∂dik

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

      36 |
      37 |     const eleventhTry = await checkRateLimit("contact");
    > 38 |     expect(eleventhTry).toBe(false);
         |                         ^
      39 |   });
      40 |
      41 |   test("admin route-ok rate limitje m≈±k√∂dik", async () => {

      at Object.toBe (__tests__/lib/rate-limit.test.ts:38:25)

  ‚óè Rate Limiting ‚Ä∫ admin route-ok rate limitje m≈±k√∂dik

    expect(received).toBe(expected) // Object.is equality

    Expected: false
    Received: true

      46 |
      47 |     const tooMany = await checkRateLimit("admin");
    > 48 |     expect(tooMany).toBe(false);
         |                     ^
      49 |   });
      50 |
      51 |   test("rate limit info visszaadja a helyes √©rt√©keket", () => {

      at Object.toBe (__tests__/lib/rate-limit.test.ts:48:21)

  ‚óè Rate Limiting ‚Ä∫ rate limit info visszaadja a helyes √©rt√©keket

    TypeError: (0 , _ratelimit.getRateLimitInfo) is not a function

      50 |
      51 |   test("rate limit info visszaadja a helyes √©rt√©keket", () => {
    > 52 |     const info = getRateLimitInfo("login", "127.0.0.1");
         |                                  ^
      53 |
      54 |     expect(info).toHaveProperty("remaining");
      55 |     expect(info).toHaveProperty("reset");

      at Object.<anonymous> (__tests__/lib/rate-limit.test.ts:52:34)

  ‚óè Contact API with Rate Limit ‚Ä∫ sikeres √ºzenetk√ºld√©s rate limit alatt

    TypeError: Cannot destructure property 'nextauth' of 'req.query' as it is undefined.

       8 | export const GET = handler;
       9 | export const POST = async (request: Request) => {
    > 10 |   return withRateLimit("auth", async () => handler(request));
         |                                            ^
      11 | };
      12 |

      at NextAuthApiHandler (node_modules/next-auth/next/index.js:14:5)
      at NextAuth._args$ (node_modules/next-auth/next/index.js:91:20)
      at handler (src/app/api/auth/[...nextauth]/route.ts:10:44)
      at handler (__tests__/lib/rate-limit.test.ts:97:60)
      at POST (src/app/api/auth/[...nextauth]/route.ts:10:23)
      at Object.<anonymous> (__tests__/lib/rate-limit.test.ts:81:32)

  ‚óè Auth API with Rate Limit ‚Ä∫ login k√©r√©s rate limit alatt

    TypeError: Cannot destructure property 'nextauth' of 'req.query' as it is undefined.

       8 | export const GET = handler;
       9 | export const POST = async (request: Request) => {
    > 10 |   return withRateLimit("auth", async () => handler(request));
         |                                            ^
      11 | };
      12 |

      at NextAuthApiHandler (node_modules/next-auth/next/index.js:14:5)
      at NextAuth._args$ (node_modules/next-auth/next/index.js:91:20)
      at handler (src/app/api/auth/[...nextauth]/route.ts:10:44)
      at handler (__tests__/lib/rate-limit.test.ts:97:60)
      at POST (src/app/api/auth/[...nextauth]/route.ts:10:23)
      at Object.<anonymous> (__tests__/lib/rate-limit.test.ts:103:32)

FAIL __tests__/api/posts.test.ts
  ‚óè Console

    console.error
      [ErrorLogger] HIGH - server_error: {
        id: 'err_1756356873495_2o4fm938d',
        message: "Cannot read properties of undefined (reading 'url')",
        context: {
          timestamp: 2025-08-28T04:54:33.495Z,
          environment: 'test',
          buildId: 'unknown',
          endpoint: '/api/posts',
          method: 'GET',
          type: 'api_error',
          userAgent: 'Mozilla/5.0 (darwin) AppleWebKit/537.36 (KHTML, like Gecko) jsdom/20.0.3',
          url: 'http://localhost/',
          path: '/'
        },
        stack: "TypeError: Cannot read properties of undefined (reading 'url')\n" +
          '    at url (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/posts/route.ts:21:48)\n' +
          '    at handler (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/posts.test.ts:11:60)\n' +
          '    at GET (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/posts/route.ts:19:23)\n' +
          '    at Object.<anonymous> (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/posts.test.ts:43:31)\n' +
          '    at Promise.then.completed (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:298:28)\n' +
          '    at new Promise (<anonymous>)\n' +
          '    at callAsyncCircusFn (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:231:10)\n' +
          '    at _callCircusTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:316:40)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at _runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:252:3)\n' +
          '    at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:126:9)\n' +
          '    at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:121:9)\n' +
          '    at run (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:71:3)\n' +
          '    at runAndTransformResultsToJestFormat (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-re\n' +
          '... (truncated)'
      }

      286 |   // Console logging
      287 |   if (ERROR_CONFIG.enableConsoleLogging) {
    > 288 |     console.error(`[ErrorLogger] ${errorLog.severity.toUpperCase()} - ${errorLog.type}:`, {
          |             ^
      289 |       id: errorLog.id,
      290 |       message: errorLog.message,
      291 |       context: errorLog.context,

      at error (src/lib/error-logger.ts:288:13)
      at logError (src/lib/error-logger.ts:358:3)
      at src/app/api/posts/route.ts:130:24
      at handler (__tests__/api/posts.test.ts:11:60)
      at GET (src/app/api/posts/route.ts:19:23)
      at Object.<anonymous> (__tests__/api/posts.test.ts:43:31)

    console.error
      [ErrorLogger] HIGH - server_error: {
        id: 'err_1756356873565_2dlhvb0kx',
        message: "Cannot read properties of undefined (reading 'url')",
        context: {
          timestamp: 2025-08-28T04:54:33.565Z,
          environment: 'test',
          buildId: 'unknown',
          endpoint: '/api/posts',
          method: 'GET',
          type: 'api_error',
          userAgent: 'Mozilla/5.0 (darwin) AppleWebKit/537.36 (KHTML, like Gecko) jsdom/20.0.3',
          url: 'http://localhost/',
          path: '/'
        },
        stack: "TypeError: Cannot read properties of undefined (reading 'url')\n" +
          '    at url (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/posts/route.ts:21:48)\n' +
          '    at handler (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/posts.test.ts:11:60)\n' +
          '    at GET (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/src/app/api/posts/route.ts:19:23)\n' +
          '    at Object.<anonymous> (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/__tests__/api/posts.test.ts:99:14)\n' +
          '    at Promise.then.completed (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:298:28)\n' +
          '    at new Promise (<anonymous>)\n' +
          '    at callAsyncCircusFn (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/utils.js:231:10)\n' +
          '    at _callCircusTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:316:40)\n' +
          '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
          '    at _runTest (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:252:3)\n' +
          '    at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:126:9)\n' +
          '    at _runTestsForDescribeBlock (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:121:9)\n' +
          '    at run (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/run.js:71:3)\n' +
          '    at runAndTransformResultsToJestFormat (/Users/lovas.zoltan/Seafile/Saj√°t k√∂tet/Me, Myself and I/webpage/lovas-political-site/node_modules/jest-circus/build/legacy-code-todo-re\n' +
          '... (truncated)'
      }

      286 |   // Console logging
      287 |   if (ERROR_CONFIG.enableConsoleLogging) {
    > 288 |     console.error(`[ErrorLogger] ${errorLog.severity.toUpperCase()} - ${errorLog.type}:`, {
          |             ^
      289 |       id: errorLog.id,
      290 |       message: errorLog.message,
      291 |       context: errorLog.context,

      at error (src/lib/error-logger.ts:288:13)
      at logError (src/lib/error-logger.ts:358:3)
      at src/app/api/posts/route.ts:130:24
      at handler (__tests__/api/posts.test.ts:11:60)
      at GET (src/app/api/posts/route.ts:19:23)
      at Object.<anonymous> (__tests__/api/posts.test.ts:99:14)

  ‚óè Posts API ‚Ä∫ GET returns posts list under rate limit

    TypeError: Cannot read properties of undefined (reading 'post')

      32 |
      33 |   test("GET returns posts list under rate limit", async () => {
    > 34 |     (prisma.post.findMany as jest.Mock).mockResolvedValue([mockPost]);
         |             ^
      35 |     const response = await GET();
      36 |     const data = await response.json();
      37 |     expect(response.status).toBe(200);

      at Object.post (__tests__/api/posts.test.ts:34:13)

  ‚óè Posts API ‚Ä∫ GET blocked when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 500

      42 |     (checkRateLimit as jest.Mock).mockResolvedValue(false);
      43 |     const response = await GET();
    > 44 |     expect(response.status).toBe(429);
         |                             ^
      45 |   });
      46 |
      47 |   test("POST creates post under rate limit", async () => {

      at Object.toBe (__tests__/api/posts.test.ts:44:29)

  ‚óè Posts API ‚Ä∫ POST creates post under rate limit

    TypeError: Cannot read properties of undefined (reading 'post')

      46 |
      47 |   test("POST creates post under rate limit", async () => {
    > 48 |     (prisma.post.create as jest.Mock).mockResolvedValue(mockPost);
         |             ^
      49 |     const response = await POST(
      50 |       new NextRequest("http://localhost:3000/api/posts", {
      51 |         method: "POST",

      at Object.post (__tests__/api/posts.test.ts:48:13)

  ‚óè Posts API ‚Ä∫ POST blocked when rate limit exceeded

    expect(received).toBe(expected) // Object.is equality

    Expected: 429
    Received: 403

      64 |       })
      65 |     );
    > 66 |     expect(response.status).toBe(429);
         |                             ^
      67 |   });
      68 |
      69 |   test("validates required fields", async () => {

      at Object.toBe (__tests__/api/posts.test.ts:66:29)

  ‚óè Posts API ‚Ä∫ validates required fields

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 403

      74 |       })
      75 |     );
    > 76 |     expect(response.status).toBe(400);
         |                             ^
      77 |   });
      78 |
      79 |   test("PUT updates post under rate limit", async () => {

      at Object.toBe (__tests__/api/posts.test.ts:76:29)

  ‚óè Posts API ‚Ä∫ PUT updates post under rate limit

    TypeError: Cannot read properties of undefined (reading 'post')

      78 |
      79 |   test("PUT updates post under rate limit", async () => {
    > 80 |     (prisma.post.update as jest.Mock).mockResolvedValue(mockPost);
         |             ^
      81 |     const response = await PUT(
      82 |       new NextRequest("http://localhost:3000/api/posts", {
      83 |         method: "PUT",

      at Object.post (__tests__/api/posts.test.ts:80:13)

  ‚óè Posts API ‚Ä∫ DELETE removes post under rate limit

    TypeError: Cannot read properties of undefined (reading 'post')

      89 |
      90 |   test("DELETE removes post under rate limit", async () => {
    > 91 |     (prisma.post.delete as jest.Mock).mockResolvedValue(mockPost);
         |             ^
      92 |     const response = await DELETE(
      93 |       new NextRequest("http://localhost:3000/api/posts?id=1")
      94 |     );

      at Object.post (__tests__/api/posts.test.ts:91:13)

  ‚óè Posts API ‚Ä∫ verifies rate limit is checked for each method

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "default"

    Number of calls: 0

      105 |     );
      106 |
    > 107 |     expect(checkRateLimit).toHaveBeenCalledWith("default");
          |                            ^
      108 |     expect(checkRateLimit).toHaveBeenCalledWith("admin");
      109 |     expect(checkRateLimit).toHaveBeenCalledTimes(2);
      110 |   });

      at Object.toHaveBeenCalledWith (__tests__/api/posts.test.ts:107:28)

FAIL __tests__/__mocks__/@auth/prisma-adapter.ts
  ‚óè Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)
      at node_modules/@jest/core/build/TestScheduler.js:254:19
      at node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (node_modules/emittery/index.js:361:23)

FAIL __tests__/__mocks__/prisma.ts
  ‚óè Test suite failed to run

    Your test suite must contain at least one test.

      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)
      at node_modules/@jest/core/build/TestScheduler.js:254:19
      at node_modules/emittery/index.js:363:13
          at Array.map (<anonymous>)
      at Emittery.emit (node_modules/emittery/index.js:361:23)

FAIL __tests__/admin-auth.test.ts
  ‚óè Test suite failed to run

    ReferenceError: mockCheckRateLimit is not defined

      87 |       }
      88 |     },
    > 89 |     checkRateLimit: mockCheckRateLimit,
         |                     ^
      90 |   };
      91 | });
      92 |

      at mockCheckRateLimit (jest.setup.js:89:21)
      at Object.<anonymous> (src/app/api/auth/[...nextauth]/route.ts:22:20)
      at Object.<anonymous> (__tests__/admin-auth.test.ts:7:16)

FAIL __tests__/api/messages.test.ts
  ‚óè Test suite failed to run

    ReferenceError: mockCheckRateLimit is not defined

      87 |       }
      88 |     },
    > 89 |     checkRateLimit: mockCheckRateLimit,
         |                     ^
      90 |   };
      91 | });
      92 |

      at mockCheckRateLimit (jest.setup.js:89:21)
      at Object.<anonymous> (src/app/api/messages/route.ts:27:20)
      at Object.<anonymous> (__tests__/api/messages.test.ts:8:16)

